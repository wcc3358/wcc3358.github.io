<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第01章 UML | 抽象的阶梯</title>
    <meta name="description" content="人生最终价值在于觉醒和思考的能力.">
    <link rel="icon" href="/asserts/logo.ico">
  <link rel="manifest" href="/manifest.json">
    
    <link rel="preload" href="/assets/css/0.styles.ca7a6bcf.css" as="style"><link rel="preload" href="/assets/js/app.f2c7c472.js" as="script"><link rel="preload" href="/assets/js/2.92a4cb9a.js" as="script"><link rel="preload" href="/assets/js/7.d412373a.js" as="script"><link rel="prefetch" href="/assets/js/10.2c000aad.js"><link rel="prefetch" href="/assets/js/11.7590267f.js"><link rel="prefetch" href="/assets/js/12.1fe4c8aa.js"><link rel="prefetch" href="/assets/js/13.4a20f011.js"><link rel="prefetch" href="/assets/js/14.aa594ef4.js"><link rel="prefetch" href="/assets/js/15.2bc3030f.js"><link rel="prefetch" href="/assets/js/16.a8c74f80.js"><link rel="prefetch" href="/assets/js/17.93dbc84d.js"><link rel="prefetch" href="/assets/js/18.58b2119c.js"><link rel="prefetch" href="/assets/js/19.9d18f626.js"><link rel="prefetch" href="/assets/js/20.8d6d591c.js"><link rel="prefetch" href="/assets/js/21.8895c0e6.js"><link rel="prefetch" href="/assets/js/22.79dc2d3f.js"><link rel="prefetch" href="/assets/js/23.d6a001d9.js"><link rel="prefetch" href="/assets/js/24.4d1ddc6d.js"><link rel="prefetch" href="/assets/js/25.fda218fe.js"><link rel="prefetch" href="/assets/js/26.eac61434.js"><link rel="prefetch" href="/assets/js/27.523dec71.js"><link rel="prefetch" href="/assets/js/28.73251205.js"><link rel="prefetch" href="/assets/js/29.22387ab4.js"><link rel="prefetch" href="/assets/js/3.847b906e.js"><link rel="prefetch" href="/assets/js/30.2bb56f37.js"><link rel="prefetch" href="/assets/js/31.9269a0dd.js"><link rel="prefetch" href="/assets/js/32.57ae8695.js"><link rel="prefetch" href="/assets/js/33.e4060692.js"><link rel="prefetch" href="/assets/js/34.3ec39378.js"><link rel="prefetch" href="/assets/js/35.13141cda.js"><link rel="prefetch" href="/assets/js/36.ac45ac2c.js"><link rel="prefetch" href="/assets/js/37.599087aa.js"><link rel="prefetch" href="/assets/js/38.b96d96fa.js"><link rel="prefetch" href="/assets/js/39.16741268.js"><link rel="prefetch" href="/assets/js/4.2daa4f67.js"><link rel="prefetch" href="/assets/js/40.60aa08d9.js"><link rel="prefetch" href="/assets/js/41.31a3b624.js"><link rel="prefetch" href="/assets/js/42.2e5fd50c.js"><link rel="prefetch" href="/assets/js/43.8b0bcac1.js"><link rel="prefetch" href="/assets/js/44.31942c63.js"><link rel="prefetch" href="/assets/js/45.b06e8161.js"><link rel="prefetch" href="/assets/js/5.7b13976e.js"><link rel="prefetch" href="/assets/js/6.674bd6d6.js"><link rel="prefetch" href="/assets/js/8.badfb63e.js"><link rel="prefetch" href="/assets/js/9.167768b3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ca7a6bcf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">抽象的阶梯</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/vuepress/" class="nav-link">Vuepress</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java技术栈" class="dropdown-title"><span class="title">Java技术栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/source/" class="nav-link">源码解析</a></li><li class="dropdown-item"><!----> <a href="/java/designPattern/" class="nav-link router-link-active">设计模式</a></li><li class="dropdown-item"><!----> <a href="/java/json/" class="nav-link">JSON</a></li><li class="dropdown-item"><!----> <a href="/java/maven/" class="nav-link">Maven</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/wcc3358" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/vuepress/" class="nav-link">Vuepress</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java技术栈" class="dropdown-title"><span class="title">Java技术栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/source/" class="nav-link">源码解析</a></li><li class="dropdown-item"><!----> <a href="/java/designPattern/" class="nav-link router-link-active">设计模式</a></li><li class="dropdown-item"><!----> <a href="/java/json/" class="nav-link">JSON</a></li><li class="dropdown-item"><!----> <a href="/java/maven/" class="nav-link">Maven</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/wcc3358" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java设计模式</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/designPattern/第01章 UML.html" class="active sidebar-link">第01章 UML</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/designPattern/第01章 UML.html#_1-1-uml定义" class="sidebar-link">1.1 UML定义</a></li><li class="sidebar-sub-header"><a href="/java/designPattern/第01章 UML.html#_1-2-uml特点" class="sidebar-link">1.2 UML特点</a></li><li class="sidebar-sub-header"><a href="/java/designPattern/第01章 UML.html#_1-3-uml分类" class="sidebar-link">1.3 UML分类</a></li><li class="sidebar-sub-header"><a href="/java/designPattern/第01章 UML.html#_1-4-uml类图" class="sidebar-link">1.4 UML类图</a></li><li class="sidebar-sub-header"><a href="/java/designPattern/第01章 UML.html#_1-5-uml时序图" class="sidebar-link">1.5 UML时序图</a></li><li class="sidebar-sub-header"><a href="/java/designPattern/第01章 UML.html#_1-6-uml记忆技巧" class="sidebar-link">1.6 UML记忆技巧</a></li><li class="sidebar-sub-header"><a href="/java/designPattern/第01章 UML.html#_1-7-类的表示" class="sidebar-link">1.7 类的表示</a></li><li class="sidebar-sub-header"><a href="/java/designPattern/第01章 UML.html#_1-8-staruml安装破解" class="sidebar-link">1.8 StarUML安装破解</a></li><li class="sidebar-sub-header"><a href="/java/designPattern/第01章 UML.html#_1-9-staruml教程" class="sidebar-link">1.9 StarUML教程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/designPattern/第01章 UML.html#_1-9-1-类图绘制" class="sidebar-link">1.9.1 类图绘制</a></li></ul></li></ul></li><li><a href="/java/designPattern/第02章 软件设计七大原则.html" class="sidebar-link">第02章 软件设计七大原则</a></li><li><a href="/java/designPattern/第03章 简单工厂.html" class="sidebar-link">第03章 简单工厂</a></li><li><a href="/java/designPattern/第04章 工厂方法模式.html" class="sidebar-link">第04章 工厂方法模式</a></li><li><a href="/java/designPattern/第05章 抽象工厂模式.html" class="sidebar-link">第05章 抽象工厂模式</a></li><li><a href="/java/designPattern/第06章 建造者模式.html" class="sidebar-link">第06章 建造者模式</a></li><li><a href="/java/designPattern/第07章 单例模式.html" class="sidebar-link">第07章 单例模式</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第01章-uml"><a href="#第01章-uml" class="header-anchor">#</a> 第01章 UML</h1> <p>导航：定义、特点、分类、类图、时序图、记忆技巧</p> <h2 id="_1-1-uml定义"><a href="#_1-1-uml定义" class="header-anchor">#</a> 1.1 UML定义</h2> <ul><li>统一建模语言（Unified Modeling Language,UML）</li> <li>非专利的第三代建模和规约语言</li></ul> <h2 id="_1-2-uml特点"><a href="#_1-2-uml特点" class="header-anchor">#</a> 1.2 UML特点</h2> <ul><li>UML是一种开发的方法；</li> <li>用于说明、可视化、构建和编写一个正在开发的面向对象的、软件密集系统的制品的开放方法；</li> <li>UML展现了一系列最佳工程实践，这些最佳实践在对大规模、复杂系统进行建模方面，特别是在软件架构层次已经被验证有效；</li></ul> <h2 id="_1-3-uml分类"><a href="#_1-3-uml分类" class="header-anchor">#</a> 1.3 UML分类</h2> <p>UML2.2中一共定义了14种图示，分类如下：</p> <ul><li>结构式图形：强调的是系统式的建模；</li> <li>行为式图形：强调系统模型中触发的实践；</li> <li>交互式图形：属于行为式图形子集合，强调系统模型中资料流程；</li></ul> <p>结构式图形</p> <ul><li>静态图（类图、对象图、包图）；</li> <li>实现图（组件图、部署图）；</li> <li>剖面图；</li> <li>复合结构图；</li></ul> <p>行为式图形</p> <ul><li>活动图；</li> <li>状态图；</li> <li>用例图；</li></ul> <p>交互式图形</p> <ul><li>通信图；</li> <li>交互概述图（UML2.0）；</li> <li>时序图（UML2.0）；</li> <li>时间图（UML2.0）；</li></ul> <h2 id="_1-4-uml类图"><a href="#_1-4-uml类图" class="header-anchor">#</a> 1.4 UML类图</h2> <ul><li>Class Diagram:用于表示类、接口、实例等之间相互的静态关系；</li> <li>虽然名称为类图，但类图中并不只有类</li></ul> <h2 id="_1-5-uml时序图"><a href="#_1-5-uml时序图" class="header-anchor">#</a> 1.5 UML时序图</h2> <ul><li>Sequence Diagram：是显示对象之间交互的图，这些对象是按时间顺序排列的；</li> <li>包括的建模元素主要有:对象（actor）、生命线（Lifeline）、控制焦点（Focus of control）、消息（message）等；</li></ul> <p><a data-fancybox="" title="1547973198463" href="/assets/1547973198463.png"><img src="/assets/1547973198463.png" alt="1547973198463"></a></p> <ul><li>c:Client s:Server d:device表示实例；</li> <li>向下的虚线表示该实例的生命线；</li> <li>向下的矩形表示该实例处于一个活动状态；</li></ul> <h2 id="_1-6-uml记忆技巧"><a href="#_1-6-uml记忆技巧" class="header-anchor">#</a> 1.6 UML记忆技巧</h2> <p>（1）UML箭头方向：<strong>从子类指向父类</strong></p> <blockquote><p>提示：可能会认为子类是以父类为基础的，箭头应用父类指向子类</p></blockquote> <p>记忆技巧：</p> <ul><li>定义子类时，需要通过extends关键字指定父类；</li> <li>子类一定是知道父类定义的，但父类并不知道子类的定义；</li> <li>只有知道对方信息时才能指向对方；</li> <li>所以箭头方向是从子类指向父类；</li></ul> <p>（2）实线-继承  |  虚线-实现</p> <p><a data-fancybox="" title="1547960143213" href="/assets/1547960143213.png"><img src="/assets/1547960143213.png" alt="1547960143213"></a></p> <p>记忆技巧：</p> <ul><li>空心三角箭头：继承或实现；</li> <li>实线-继承：is a关系 ， 扩展目的，不虚，很结实；</li> <li>虚线-实现：虚线代表“虚” 无实体</li></ul> <p>（3）实线-关联  |  虚线-依赖</p> <p><a data-fancybox="" title="1547960329411" href="/assets/1547960329411.png"><img src="/assets/1547960329411.png" alt="1547960329411"></a></p> <p><a data-fancybox="" title="1547960335772" href="/assets/1547960335772.png"><img src="/assets/1547960335772.png" alt="1547960335772"></a></p> <p>记忆技巧：</p> <p>虚线-依赖关系：</p> <ul><li>临时用一下，若即若离，虚无飘渺，若有若无；</li> <li>表示一种使用关系，一个类需要借助另一个类来实现功能；</li> <li>一般是一个类使用另一个类作为参数使用，或作为返回值；</li></ul> <p>实现-关联关系：</p> <ul><li>关系稳定，实打实的关系，铁哥们；</li> <li>表示一个类对象和另一个类对象有关联；</li> <li>通常是一个类中有另一个类对象作为属性；</li></ul> <p>（4）空心菱形-聚合   |   实心菱形-组合</p> <p><a data-fancybox="" title="1547960538295" href="/assets/1547960538295.png"><img src="/assets/1547960538295.png" alt="1547960538295"></a></p> <p><a data-fancybox="" title="1547960606633" href="/assets/1547960606633.png"><img src="/assets/1547960606633.png" alt="1547960606633"></a></p> <p>记忆技巧：</p> <ul><li>菱形就是一个盛东西的器皿（例如：盘子）；</li> <li>聚合：代表空器皿里可以放很多相同东西，聚在一起（箭头方向所指的类）；</li> <li>组合：代表满器皿里已经有实体结构的存在，生死与共；</li></ul> <p>聚合关系：</p> <ul><li><p>整体和局部的关系，两者有着独立的生命周期，是has a的关系；</p></li> <li><p>弱关系；</p></li> <li><p>消极的词：弱-空；</p></li></ul> <p>组合关系：</p> <ul><li>整体和局部的关系，和聚合的关系相比，关系更加强烈，两者有着相同的生命周期，是contains a的关系；</li> <li>强关系；</li> <li>消极的词：强-满；</li></ul> <p>组合关系常见数字表达及含义，假设有A类和B类，数字标记在A类侧：</p> <ul><li>0...1： 0或1个实例</li> <li>0...*： 0或多个实例</li> <li>1...1： 1个实例</li> <li>1     只能有一个实例</li> <li>1...*： 至少有一个实例</li></ul> <h2 id="_1-7-类的表示"><a href="#_1-7-类的表示" class="header-anchor">#</a> 1.7 类的表示</h2> <p><a data-fancybox="" title="1547973682348" href="/assets/1547973682348.png"><img src="/assets/1547973682348.png" alt="1547973682348"></a></p> <p>+ public</p> <p>- private</p> <p># protected</p> <p>~ default</p> <p>加下划线的属性（方法）：表示static的属性（方法）</p> <p>斜体表示抽象方法（类）</p> <p><a data-fancybox="" title="1547973717332" href="/assets/1547973717332.png"><img src="/assets/1547973717332.png" alt="1547973717332"></a></p> <h2 id="_1-8-staruml安装破解"><a href="#_1-8-staruml安装破解" class="header-anchor">#</a> 1.8 StarUML安装破解</h2> <p>工具下载官网：</p> <p>http://staruml.io/</p> <p><a data-fancybox="" title="1549808509017" href="/assets/1549808509017.png"><img src="/assets/1549808509017.png" alt="1549808509017"></a></p> <p>下载后双击exe：</p> <p><a data-fancybox="" title="1549808546538" href="/assets/1549808546538.png"><img src="/assets/1549808546538.png" alt="1549808546538"></a></p> <p>此时，会默认安装到C盘下的Program Files下：</p> <p><a data-fancybox="" title="1549808603079" href="/assets/1549808603079.png"><img src="/assets/1549808603079.png" alt="1549808603079"></a></p> <p>进入到resources目录下：</p> <p><a data-fancybox="" title="1549808631288" href="/assets/1549808631288.png"><img src="/assets/1549808631288.png" alt="1549808631288"></a></p> <p>使用npm安装asar打包和解压工具：</p> <div class="language-npm line-numbers-mode"><pre class="language-text"><code>npm install -g asar
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在当前窗口解压app.asar：</p> <div class="language-npm line-numbers-mode"><pre class="language-text"><code>asar extract app.asar app
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>解压后：</p> <p><a data-fancybox="" title="1549808781415" href="/assets/1549808781415.png"><img src="/assets/1549808781415.png" alt="1549808781415"></a></p> <p>主要关注以下两个文件：</p> <p><a data-fancybox="" title="1549808883928" href="/assets/1549808883928.png"><img src="/assets/1549808883928.png" alt="1549808883928"></a></p> <p>在about-dialog.js中找出要在关于中显示的信息来源：</p> <p><code>about-dialog.js</code>中第 45-71 行：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// set license info</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>app<span class="token punctuation">.</span>licenseManager<span class="token punctuation">.</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> info <span class="token operator">=</span> app<span class="token punctuation">.</span>licenseManager<span class="token punctuation">.</span><span class="token function">getLicenseInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> licenseTypeName <span class="token operator">=</span> <span class="token string">'Unknown'</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>licenseType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'PS'</span><span class="token punctuation">:</span>
      licenseTypeName <span class="token operator">=</span> <span class="token string">'Personal'</span>
      <span class="token keyword">break</span>
    <span class="token keyword">case</span> <span class="token string">'CO'</span><span class="token punctuation">:</span>
      licenseTypeName <span class="token operator">=</span> <span class="token string">'Commercial'</span>
      <span class="token keyword">break</span>
    <span class="token keyword">case</span> <span class="token string">'ED'</span><span class="token punctuation">:</span>
      licenseTypeName <span class="token operator">=</span> <span class="token string">'Educational'</span>
      <span class="token keyword">break</span>
    <span class="token keyword">case</span> <span class="token string">'CR'</span><span class="token punctuation">:</span>
      licenseTypeName <span class="token operator">=</span> <span class="token string">'Classroom'</span>
      <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
    $license<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">'Licensed to '</span> <span class="token operator">+</span> info<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    $licenseType<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>licenseTypeName <span class="token operator">+</span> <span class="token string">' License'</span><span class="token punctuation">)</span>
    $quantity<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>quantity <span class="token operator">+</span> <span class="token string">' User(s)'</span><span class="token punctuation">)</span>
    $crackedAuthor<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">'Cracked by '</span> <span class="token operator">+</span> info<span class="token punctuation">.</span>crackedAuthor<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    $license<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">'UNREGISTERED'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> dialog
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>可以看出，它首先会先调用<code>license-manager.js</code>中的<code>getStatus()</code>方法判断程序的注册状态。那现在我们去<code>license-manager.js</code>看一下<code>getStatus()</code>这个方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * Get Registration Status
 * home.php?mod=space&amp;uid=155549 {string}
 */</span>
<span class="token function">getStatus</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> status
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>很简单的一个方法，我是试过直接在这里设置<code>&quot;true&quot;</code>(注意！这里是返回字符串)，但是没什么用，我就没改这里了。那么这里到底有什么用呢？大家看它返回的那个变量：<code>status</code>，这是我们唯一从这里得到的信息，我们全文搜索一下<code>status</code>，可以找到一个<code>setStatus(...)</code>的方法。我修改了一下让它总是设置为<code>true</code>，代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">setStatus</span> <span class="token punctuation">(</span><span class="token parameter">licenseManager<span class="token punctuation">,</span> newStat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">!==</span> newStat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    status <span class="token operator">=</span> newStat
    licenseManager<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'statusChanged'</span><span class="token punctuation">,</span> <span class="token string">'true'</span><span class="token punctuation">)</span> 
    <span class="token comment">// status修改为'true',注意要带单引号</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>好了，现在可以进入那个if语句了。不难看出，接下来需要的数据都在变量<code>info</code>里，从这一句</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> info <span class="token operator">=</span> app<span class="token punctuation">.</span>licenseManager<span class="token punctuation">.</span><span class="token function">getLicenseInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以看出，它调用了<code>license-manager.js</code>中的<code>getLicenseInfo()</code>方法获取所需数据，我们去看一下<code>getLicenseInfo()</code>方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">getLicenseInfo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> licenseInfo
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>此处可以直接模拟<code>licenseInfo</code>的数据：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">getLicenseInfo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  licenseInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
          name<span class="token punctuation">:</span> <span class="token string">&quot;Reborn&quot;</span><span class="token punctuation">,</span>
          product<span class="token punctuation">:</span> <span class="token string">&quot;Reborn product&quot;</span><span class="token punctuation">,</span>
          licenseType<span class="token punctuation">:</span> <span class="token string">&quot;PS&quot;</span><span class="token punctuation">,</span>
          quantity<span class="token punctuation">:</span> <span class="token string">&quot;Reborn Quantity&quot;</span><span class="token punctuation">,</span>
          timestamp<span class="token punctuation">:</span> <span class="token string">&quot;1529049036&quot;</span><span class="token punctuation">,</span>
          licenseKey<span class="token punctuation">:</span> <span class="token string">&quot;It's Cracked!!&quot;</span><span class="token punctuation">,</span>
          crackedAuthor<span class="token punctuation">:</span> <span class="token string">&quot;Reborn&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> licenseInfo
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>licenseType</code>的设置是固定几个参数：PS\CO\ED\CR</p> <p>好了，模拟成功，<code>about-dialog.js</code>那边应该能获取到<code>licenseInfo</code>的数据了。但是，仅仅是这样还不行哦！还有最后一步--破解！</p> <p>直接修改<code>license-manager.js</code>中的<code>checkLicenseValidity()</code>这个方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">checkLicenseValidity</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 原来的代码，如果失败就会将状态设置成false</span>
        <span class="token comment">//setStatus(this, false)</span>
        <span class="token comment">//UnregisteredDialog.showDialog()</span>
        <span class="token comment">//修改后的代码</span>
        <span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>此时，重新打包，启动软件，注册成功！</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>asar pack app app.asar
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a data-fancybox="" title="1549809186302" href="/assets/1549809186302.png"><img src="/assets/1549809186302.png" alt="1549809186302"></a></p> <h2 id="_1-9-staruml教程"><a href="#_1-9-staruml教程" class="header-anchor">#</a> 1.9 StarUML教程</h2> <blockquote><p>StarUML是一种生成类图和其他类型的统一建模语言(UML)图表的工具。StarUML(简称SU)，是一种创建UML类图，并能够自动生成Java的“stub code” 的工具。SU也可以做JAVA逆向工程，以产生相应的UML图表。</p></blockquote> <h3 id="_1-9-1-类图绘制"><a href="#_1-9-1-类图绘制" class="header-anchor">#</a> 1.9.1 类图绘制</h3> <p>在启动star UML时，系统会默认帮我们创建一个工程</p> <p><a data-fancybox="" title="1549810087758" href="/assets/1549810087758.png"><img src="/assets/1549810087758.png" alt="1549810087758"></a></p> <p>如果这个工程不是你想要的工程，你可以点击File–》new from template中修改为你需要的工程类型：</p> <p><a data-fancybox="" title="1549810127501" href="/assets/1549810127501.png"><img src="/assets/1549810127501.png" alt="1549810127501"></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/java/designPattern/第02章 软件设计七大原则.html">第02章 软件设计七大原则</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.f2c7c472.js" defer></script><script src="/assets/js/2.92a4cb9a.js" defer></script><script src="/assets/js/7.d412373a.js" defer></script>
  </body>
</html>
