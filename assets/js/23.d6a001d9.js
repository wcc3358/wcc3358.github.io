(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{249:function(a,t,s){"use strict";s.r(t);var e=s(0),v=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"第02章-maven基本用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第02章-maven基本用法"}},[a._v("#")]),a._v(" 第02章 Maven基本用法")]),a._v(" "),s("h2",{attrs:{id:"_2-1-maven安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-maven安装"}},[a._v("#")]),a._v(" 2.1 Maven安装")]),a._v(" "),s("h3",{attrs:{id:"_2-1-1-maven软件的下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-maven软件的下载"}},[a._v("#")]),a._v(" 2.1.1 Maven软件的下载")]),a._v(" "),s("p",[a._v("为了使用Maven管理工具，我们首先要到官网去下载它的安装软件。通过百度搜索“Maven“如下：")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555832776857",href:"/assets/1555832776857.png"}},[s("img",{attrs:{src:"/assets/1555832776857.png",alt:"1555832776857"}})])]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555832817256",href:"/assets/1555832817256.png"}},[s("img",{attrs:{src:"/assets/1555832817256.png",alt:"1555832817256"}})])]),a._v(" "),s("p",[a._v("点击Download链接，就可以直接进入到Maven软件的下载页面：")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555832863712",href:"/assets/1555832863712.png"}},[s("img",{attrs:{src:"/assets/1555832863712.png",alt:"1555832863712"}})])]),a._v(" "),s("p",[a._v("目前最新版是apache-maven-3.6.1版本，本文使用的是apache-maven-3.5.2版本。")]),a._v(" "),s("p",[a._v("Apache-maven-3.x下载地址：http://archive.apache.org/dist/maven/maven-3/")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555832980206",href:"/assets/1555832980206.png"}},[s("img",{attrs:{src:"/assets/1555832980206.png",alt:"1555832980206"}})])]),a._v(" "),s("p",[a._v("下载后的版本如下:")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555833009862",href:"/assets/1555833009862.png"}},[s("img",{attrs:{src:"/assets/1555833009862.png",alt:"1555833009862"}})])]),a._v(" "),s("h3",{attrs:{id:"_2-1-2-maven软件的安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-maven软件的安装"}},[a._v("#")]),a._v(" 2.1.2 Maven软件的安装")]),a._v(" "),s("p",[a._v("Maven下载后，将Maven解压到一个没有中文没有空格的路径下，比如D:\\software\\maven下面。")]),a._v(" "),s("p",[a._v("解压后目录结构如下：")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555833044835",href:"/assets/1555833044835.png"}},[s("img",{attrs:{src:"/assets/1555833044835.png",alt:"1555833044835"}})])]),a._v(" "),s("ul",[s("li",[a._v("bin:存放了maven的命令，比如mvn tomcat:run；")]),a._v(" "),s("li",[a._v("boot:存放了一些maven本身的引导程序，如类加载器等；")]),a._v(" "),s("li",[a._v("conf:存放了maven的一些配置文件，如setting.xml文件；")]),a._v(" "),s("li",[a._v("lib:存放了maven本身运行所需的一些jar包；")])]),a._v(" "),s("p",[a._v("至此我们的maven软件就可以使用了，前提是你的电脑上之前已经安装并配置好了JDK。")]),a._v(" "),s("h3",{attrs:{id:"_2-1-3-jdk的准备及统一"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-jdk的准备及统一"}},[a._v("#")]),a._v(" 2.1.3 JDK的准备及统一")]),a._v(" "),s("p",[a._v("JDK使用JDK8版本")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555833115969",href:"/assets/1555833115969.png"}},[s("img",{attrs:{src:"/assets/1555833115969.png",alt:"1555833115969"}})])]),a._v(" "),s("h3",{attrs:{id:"_2-1-4-maven及jdk配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-maven及jdk配置"}},[a._v("#")]),a._v(" 2.1.4 Maven及JDK配置")]),a._v(" "),s("p",[a._v("配置 MAVEN_HOME ，变量值就是你的maven安装 的路径（bin目录之前一级目录）")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555833172376",href:"/assets/1555833172376.png"}},[s("img",{attrs:{src:"/assets/1555833172376.png",alt:"1555833172376"}})])]),a._v(" "),s("p",[a._v("上面配置了我们的Maven软件，注意这个目录就是之前你解压maven的压缩文件包在的的目录，最好不要有中文和空格。")]),a._v(" "),s("p",[a._v("再次检查JDK的安装目录，如下图：")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555833208174",href:"/assets/1555833208174.png"}},[s("img",{attrs:{src:"/assets/1555833208174.png",alt:"1555833208174"}})])]),a._v(" "),s("h3",{attrs:{id:"_2-1-5-maven软件版本测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-maven软件版本测试"}},[a._v("#")]),a._v(" 2.1.5 Maven软件版本测试")]),a._v(" "),s("p",[a._v("通过 mvn -v命令检查 maven是否安装成功，看到maven的版本为3.5.2及java版本为1.8即为安装成功。")]),a._v(" "),s("p",[a._v("找开cmd命令，输入mvn –v命令，如下图：")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555833236734",href:"/assets/1555833236734.png"}},[s("img",{attrs:{src:"/assets/1555833236734.png",alt:"1555833236734"}})])]),a._v(" "),s("h2",{attrs:{id:"_2-2-maven仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-maven仓库"}},[a._v("#")]),a._v(" 2.2 Maven仓库")]),a._v(" "),s("h3",{attrs:{id:"_2-2-1-maven仓库的分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-maven仓库的分类"}},[a._v("#")]),a._v(" 2.2.1 Maven仓库的分类")]),a._v(" "),s("p",[a._v("maven的工作需要从仓库下载一些jar包，如下图所示，本地的项目A、项目B等都会通过maven软件从远程仓库（可以理解为互联网上的仓库）下载jar包并存在本地仓库，本地仓库 就是本地文件夹，当第二次需要此jar包时则不再从远程仓库下载，因为本地仓库已经存在了，可以将本地仓库理解为缓存，有了本地仓库就不用每次从远程仓库下载了。")]),a._v(" "),s("p",[a._v("下图描述了maven中仓库的类型：")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555833441761",href:"/assets/1555833441761.png"}},[s("img",{attrs:{src:"/assets/1555833441761.png",alt:"1555833441761"}})])]),a._v(" "),s("ul",[s("li",[a._v("本地仓库 ：用来存储从远程仓库或中央仓库下载的插件和jar包，项目使用一些插件或jar包，优先从本地仓库查找；默认本地仓库位置在 ${user.dir}/.m2/repository，${user.dir}表示windows用户目录；而Linux上的本地仓库地址为home/Dong/.m2/repository/")])]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555833501451",href:"/assets/1555833501451.png"}},[s("img",{attrs:{src:"/assets/1555833501451.png",alt:"1555833501451"}})])]),a._v(" "),s("ul",[s("li",[s("p",[a._v("远程仓库：如果本地需要插件或者jar包，本地仓库没有，默认去远程仓库下载。远程仓库可以在互联网内也可以在局域网内；")])]),a._v(" "),s("li",[s("p",[a._v("中央仓库 ：在maven软件中内置一个远程仓库地址http://repo1.maven.org/maven2 ，它是中央仓库，服务于整个互联网，它是由Maven团队自己维护，里面存储了非常全的jar包，它包含了世界上大部分流行的开源项目构件。")])]),a._v(" "),s("li",[s("p",[a._v("私服：私服是一种特殊的远程仓库，它是架设在局域网的仓库服务，私服代理广域网上的远程仓库，供局域网使用；")])])]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555833658891",href:"/assets/1555833658891.png"}},[s("img",{attrs:{src:"/assets/1555833658891.png",alt:"1555833658891"}})])]),a._v(" "),s("p",[s("strong",[a._v("私服的好处：")])]),a._v(" "),s("ul",[s("li",[a._v("节省资金的外网带宽，利用私服代理外部仓库之后，对外的重复构件下载便得以下手，降低外网带宽压力；")]),a._v(" "),s("li",[a._v("加速Maven构建。不停地连接请求外部仓库是什么耗时的，但是maven的一些内部机制（如快照更新检查）要求Maven在执行构建的时候不停地检查远程仓库数据。因此，当项目配置了很多外部远程仓库的时候，构建速度会降低。使用私服解决这问题，因为Maven只需要检查局域网内私服的数据时，构建速度便提高；")]),a._v(" "),s("li",[a._v("部署第三方构件，当某个构件无法从任何一个远程仓库获取怎么办？比如Oracle的JDBC驱动由于版权原因不能发布到公共仓库中。建立私服后，便可以将这些构件部署到这个内部仓库中，供内部Maven项目使用；")]),a._v(" "),s("li",[a._v("提高稳定性，增强控制。对于远程仓库当外网不可用时，maven构建有可能因为依赖没有下载而不可行，私服后，即使没有网，如果该构件只有之前被其它人下载过就会存在私服上，此时我下时就可以不用连接外网直接就可以从私服上下载到。同时私服软件（nexus)还提供了额外的管理功能；")]),a._v(" "),s("li",[a._v("降低中央仓库的负荷")])]),a._v(" "),s("h3",{attrs:{id:"_2-2-2-maven本地仓库的配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-maven本地仓库的配置"}},[a._v("#")]),a._v(" 2.2.2 Maven本地仓库的配置")]),a._v(" "),s("p",[a._v("将repository.rar(打包好的仓库)解压到电脑上，如D:\\repository目录下：")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555833902982",href:"/assets/1555833902982.png"}},[s("img",{attrs:{src:"/assets/1555833902982.png",alt:"1555833902982"}})])]),a._v(" "),s("p",[a._v("在MAVE_HOME/conf/settings.xml文件中配置本地仓库位置（maven的安装目录下）：")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555833924653",href:"/assets/1555833924653.png"}},[s("img",{attrs:{src:"/assets/1555833924653.png",alt:"1555833924653"}})])]),a._v(" "),s("p",[a._v("打开settings.xml文件，配置如下：")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555833951549",href:"/assets/1555833951549.png"}},[s("img",{attrs:{src:"/assets/1555833951549.png",alt:"1555833951549"}})])]),a._v(" "),s("h3",{attrs:{id:"_2-2-3-全局setting与用户setting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-全局setting与用户setting"}},[a._v("#")]),a._v(" 2.2.3 全局setting与用户setting")]),a._v(" "),s("p",[a._v("maven仓库地址、私服等配置信息需要在setting.xml文件中配置，分为全局配置和用户配置；")]),a._v(" "),s("p",[a._v("在maven安装目录下的有 conf/setting.xml文件，此setting.xml文件用于maven的所有project项目，它作为maven的全局配置；")]),a._v(" "),s("p",[a._v("如需要个性配置则需要在用户配置中设置，用户配置的setting.xml文件默认的位置在：${user.dir} /.m2/settings.xml目录中,${user.dir} 指windows 中的用户目录。")]),a._v(" "),s("p",[a._v("maven会先找用户配置，如果找到则以用户配置文件为准，否则使用全局配置文件。")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555834055936",href:"/assets/1555834055936.png"}},[s("img",{attrs:{src:"/assets/1555834055936.png",alt:"1555834055936"}})])]),a._v(" "),s("h2",{attrs:{id:"_2-3-maven工程的认识"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-maven工程的认识"}},[a._v("#")]),a._v(" 2.3 Maven工程的认识")]),a._v(" "),s("h3",{attrs:{id:"_2-3-1-maven工程的目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-maven工程的目录结构"}},[a._v("#")]),a._v(" 2.3.1 Maven工程的目录结构")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555834086190",href:"/assets/1555834086190.png"}},[s("img",{attrs:{src:"/assets/1555834086190.png",alt:"1555834086190"}})])]),a._v(" "),s("p",[a._v("作为一个maven工程，它的src目录和pom.xml是必备的。")]),a._v(" "),s("p",[a._v("进入src目录后，我们发现它里面的目录结构如下：")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555834156872",href:"/assets/1555834156872.png"}},[s("img",{attrs:{src:"/assets/1555834156872.png",alt:"1555834156872"}})])]),a._v(" "),s("ul",[s("li",[a._v("src/main/java —— 存放项目的.java文件")]),a._v(" "),s("li",[a._v("src/main/resources —— 存放项目资源文件，如spring, hibernate配置文件")]),a._v(" "),s("li",[a._v("src/test/java —— 存放所有单元测试.java文件，如JUnit测试类")]),a._v(" "),s("li",[a._v("src/test/resources —— 测试资源文件")]),a._v(" "),s("li",[a._v("target —— 项目输出位置，编译后的class文件会输出到此目录")]),a._v(" "),s("li",[a._v("pom.xml——maven项目核心配置文件")])]),a._v(" "),s("p",[a._v("注意：如果是普通的java项目，那么就没有webapp目录。")]),a._v(" "),s("h3",{attrs:{id:"_2-3-2-maven工程的运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-maven工程的运行"}},[a._v("#")]),a._v(" 2.3.2 Maven工程的运行")]),a._v(" "),s("p",[a._v("进入maven工程目录（当前目录有pom.xml文件），运行tomcat:run命令。")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555834201758",href:"/assets/1555834201758.png"}},[s("img",{attrs:{src:"/assets/1555834201758.png",alt:"1555834201758"}})])]),a._v(" "),s("p",[a._v("根据上边的提示信息，通过浏览器访问：http://localhost:8080/maven-helloworld/")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555834226167",href:"/assets/1555834226167.png"}},[s("img",{attrs:{src:"/assets/1555834226167.png",alt:"1555834226167"}})])]),a._v(" "),s("h3",{attrs:{id:"_2-3-3-问题处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-问题处理"}},[a._v("#")]),a._v(" 2.3.3 问题处理")]),a._v(" "),s("p",[a._v("如果本地仓库配置错误会报下边的错误")]),a._v(" "),s("p",[s("a",{attrs:{"data-fancybox":"",title:"1555834245431",href:"/assets/1555834245431.png"}},[s("img",{attrs:{src:"/assets/1555834245431.png",alt:"1555834245431"}})])]),a._v(" "),s("p",[a._v("分析：")]),a._v(" "),s("p",[a._v("maven工程运行先从本地仓库找jar包，本地仓库没有再从中央仓库找，上边提示downloading…\n表示 从中央仓库下载jar，由于本地没有联网，报错。")]),a._v(" "),s("p",[a._v("解决：")]),a._v(" "),s("p",[a._v("在maven安装目录的conf/setting.xml文件中配置本地仓库。")])])}),[],!1,null,null,null);t.default=v.exports}}]);